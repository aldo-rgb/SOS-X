# ============================================================
# EntregaX Backend API - Environment Variables
# ============================================================
# Copia este archivo como .env y configura tus valores

# Puerto del servidor
PORT=3001

# Base de datos PostgreSQL
DATABASE_URL=postgresql://usuario:password@localhost:5432/entregax_db
DB_HOST=localhost
DB_PORT=5432
DB_NAME=entregax_db
DB_USER=usuario
DB_PASSWORD=password

# ===================== JWT =====================
JWT_SECRET=CambiaEstaPorUnaClaveSeguraAleatoria
JWT_EXPIRES_IN=7d

# ===================== OPENAI =====================
# Requerido para: Verificación KYC, Chatbot Facebook
# Obtén tu API key en: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxx

# ===================== FACEBOOK MESSENGER =====================
# Requerido para: Chatbot de ventas en Facebook Messenger
#
# 1. Crea una App en: https://developers.facebook.com/apps/
# 2. Agrega el producto "Messenger"
# 3. Genera un Page Access Token desde la configuración de Messenger
# 4. Configura el Webhook con la URL: https://tu-dominio.com/api/webhooks/facebook

# Token de acceso de la página de Facebook
FB_PAGE_ACCESS_TOKEN=EAAxxxxxxxxxxxxxxxxxx

# Token de verificación (invéntatelo, lo usas al configurar el webhook)
FB_VERIFY_TOKEN=mi_token_secreto_verificacion_123

# API de Paquetexpress (cuando se integre)
PAQUETEXPRESS_API_KEY=
PAQUETEXPRESS_API_SECRET=

# Ambiente
NODE_ENV=development

# ===================== NOTAS DE CONFIGURACIÓN =====================
#
# FACEBOOK MESSENGER SETUP:
# 1. Crear App de Facebook en developers.facebook.com
# 2. Agregar producto "Messenger" 
# 3. Vincular tu página de Facebook
# 4. Generar Page Access Token
# 5. Configurar Webhook:
#    - Callback URL: https://tu-backend.com/api/webhooks/facebook
#    - Verify Token: (el mismo que FB_VERIFY_TOKEN)
#    - Suscribir a: messages, messaging_postbacks
# 6. ¡Listo! Los mensajes llegarán automáticamente a tu CRM
#
# OPENAI TIPS:
# - Modelo usado: gpt-4o (ajustar en facebookController.ts si quieres otro)
# - Costo aproximado: ~$0.01 por conversación corta
# - Puedes cambiar a gpt-4o-mini para reducir costos
